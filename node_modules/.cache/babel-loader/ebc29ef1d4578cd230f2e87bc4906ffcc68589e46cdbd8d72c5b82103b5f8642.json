{"ast":null,"code":"import React,{useState,useEffect}from'react';import seedrandom from'seedrandom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PickPacks(){const[totalPacks,setTotalPacks]=useState('');const[openPacks,setOpenPacks]=useState('');const[seed,setSeed]=useState('');const[results,setResults]=useState([]);useEffect(()=>{const saved=localStorage.getItem('pickpacks');if(saved){const{total,open,seed,results}=JSON.parse(saved);setTotalPacks(total);setOpenPacks(open);setSeed(seed);setResults(results);}},[]);const randomGeneratePacks=()=>{const total=parseInt(totalPacks);const open=parseInt(openPacks);const currentDate=new Date().getTime();const timestamp=new Date('2001-12-11').getTime();const differenceSeed=currentDate-timestamp;setSeed(differenceSeed);if(open>total||isNaN(total)||isNaN(open)||total<=0||open<=0){alert(\"请输入有效的包数\");return;}const rng=seedrandom(seed.toString());const available=new Set(Array.from({length:total},(_,i)=>i+1));const selected=[];while(selected.length<open){const index=Math.floor(rng()*available.size);const value=Array.from(available)[index];available.delete(value);selected.push(value);}selected.sort((a,b)=>a-b);setResults(selected);localStorage.setItem('pickpacks',JSON.stringify({total:totalPacks,open:openPacks,seed,results:selected}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u968F\\u673A\\u5F00\\u5305\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8BF7\\u8F93\\u5165\\u603B\\u5305\\u6570\\u548C\\u5F00\\u542F\\u7684\\u5305\\u6570\\uFF0C\\u7CFB\\u7EDF\\u9ED8\\u8BA4\\u81EA\\u5E26\\u63D0\\u524D\\u8BBE\\u8BA1\\u597D\\u7684\\u795E\\u79D8\\u79CD\\u5B50\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center mb-4 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control w-100\",placeholder:\"\\u5F00\\u542F\\u5305\\u6570\",value:openPacks,onChange:e=>setOpenPacks(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control w-100\",placeholder:\"\\u603B\\u5305\\u6570\",value:totalPacks,onChange:e=>setTotalPacks(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-lg col-4\",onClick:randomGeneratePacks,children:\"\\u5F00\\u5305\"})}),results.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u5DF2\\u9009\\u62E9\\u7684\\u5305:\"}),results.map(pack=>/*#__PURE__*/_jsx(\"p\",{children:pack},pack))]})]});}export default PickPacks;","map":{"version":3,"names":["React","useState","useEffect","seedrandom","jsx","_jsx","jsxs","_jsxs","PickPacks","totalPacks","setTotalPacks","openPacks","setOpenPacks","seed","setSeed","results","setResults","saved","localStorage","getItem","total","open","JSON","parse","randomGeneratePacks","parseInt","currentDate","Date","getTime","timestamp","differenceSeed","isNaN","alert","rng","toString","available","Set","Array","from","length","_","i","selected","index","Math","floor","size","value","delete","push","sort","a","b","setItem","stringify","className","children","type","placeholder","onChange","e","target","onClick","map","pack"],"sources":["/Users/amon/WSToolBoxReact/src/pages/PickPacks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport seedrandom from 'seedrandom';\n\n\nfunction PickPacks() {\n\n    const [totalPacks, setTotalPacks] = useState('');\n    const [openPacks, setOpenPacks] = useState('');\n    const [seed, setSeed] = useState('');\n    const [results, setResults] = useState([]);\n\n    useEffect(() => {\n        const saved = localStorage.getItem('pickpacks');\n        if (saved) {\n            const { total, open, seed, results } = JSON.parse(saved);\n            setTotalPacks(total);\n            setOpenPacks(open);\n            setSeed(seed);\n            setResults(results);\n        }\n    }, []);\n\n    const randomGeneratePacks = () => {\n        const total = parseInt(totalPacks);\n        const open = parseInt(openPacks);\n        \n        const currentDate = new Date().getTime();\n        const timestamp = new Date('2001-12-11').getTime();\n        const differenceSeed = currentDate - timestamp;\n        setSeed(differenceSeed);\n\n        if (open > total || isNaN(total) || isNaN(open) || total <= 0 || open <= 0) {\n            alert(\"请输入有效的包数\");\n            return;\n        }\n\n        const rng = seedrandom(seed.toString());\n        const available = new Set(Array.from({ length: total }, (_, i) => i + 1));\n        const selected = [];\n\n        while (selected.length < open) {\n            const index = Math.floor(rng() * available.size);\n            const value = Array.from(available)[index];\n            available.delete(value);\n            selected.push(value);\n        }\n\n        selected.sort((a, b) => a - b);\n        setResults(selected);\n        localStorage.setItem('pickpacks', JSON.stringify({\n            total: totalPacks,\n            open: openPacks,\n            seed,\n            results: selected,\n        }));\n    };\n\n    return (\n        <div className='container-fluid'>\n            <div className = 'd-flex justify-content-center align-items-center flex-column mb-4'>\n                <h1>随机开包</h1>\n                <p>请输入总包数和开启的包数，系统默认自带提前设计好的神秘种子</p>\n            </div>\n\n            <div className='d-flex justify-content-center align-items-center mb-4 gap-3'>\n                <input\n                    type=\"number\"\n                    className=\"form-control w-100\"\n                    placeholder=\"开启包数\"\n                    value={openPacks}\n                    onChange={(e) => setOpenPacks(e.target.value)}\n                />\n                <input\n                    type=\"number\"\n                    className=\"form-control w-100\"\n                    placeholder=\"总包数\"\n                    value={totalPacks}\n                    onChange={(e) => setTotalPacks(e.target.value)}\n                />\n            </div>\n            <div className='d-flex justify-content-center align-items-center mb-4'>\n                <button className=\"btn btn-primary btn-lg col-4\" onClick={randomGeneratePacks}>开包</button>\n            </div>\n            {results.length > 0 && (\n                <div className='d-flex justify-content-center align-items-center flex-column mb-4'>\n                    <h3>已选择的包:</h3>\n                        {results.map((pack) => (\n                            <p key={pack}>{pack}</p>\n                        ))}\n                </div>\n            )}\n            \n        </div>\n    );\n}\n\nexport default PickPacks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}