{"ast":null,"code":"import React,{useState}from'react';import seedrandom from'seedrandom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PickPacks(){const[totalPacks,setTotalPacks]=useState('');const[openPacks,setOpenPacks]=useState('');const[seed,setSeed]=useState('');const[results,setResults]=useState([]);const randomGeneratePacks=()=>{const total=parseInt(totalPacks);const open=parseInt(openPacks);const currentDate=new Date().getTime();const timestamp=new Date('2001-12-11').getTime();const differenceSeed=currentDate-timestamp;setSeed(differenceSeed);if(open>total||isNaN(total)||isNaN(open)||total<=0||open<=0){alert(\"请输入有效的包数\");return;}const rng=seedrandom(seed.toString());const available=new Set(Array.from({length:total},(_,i)=>i+1));const selected=[];while(selected.length<open){const index=Math.floor(rng()*available.size);const value=Array.from(available)[index];available.delete(value);selected.push(value);}selected.sort((a,b)=>a-b);setResults(selected);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u968F\\u673A\\u5F00\\u5305\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8BF7\\u8F93\\u5165\\u603B\\u5305\\u6570\\u548C\\u5F00\\u542F\\u7684\\u5305\\u6570\\uFF0C\\u7CFB\\u7EDF\\u9ED8\\u8BA4\\u81EA\\u5E26\\u63D0\\u524D\\u8BBE\\u8BA1\\u597D\\u7684\\u795E\\u79D8\\u79CD\\u5B50\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center mb-4 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control w-auto\",placeholder:\"\\u5F00\\u542F\\u5305\\u6570\",value:openPacks,onChange:e=>setOpenPacks(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control w-auto\",placeholder:\"\\u603B\\u5305\\u6570\",value:totalPacks,onChange:e=>setTotalPacks(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-lg col-4\",onClick:randomGeneratePacks,children:\"\\u5F00\\u5305\"})}),results.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-center flex-column mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u5DF2\\u9009\\u62E9\\u7684\\u5305:\"}),results.map(pack=>/*#__PURE__*/_jsx(\"p\",{children:pack},pack))]})]});}export default PickPacks;","map":{"version":3,"names":["React","useState","seedrandom","jsx","_jsx","jsxs","_jsxs","PickPacks","totalPacks","setTotalPacks","openPacks","setOpenPacks","seed","setSeed","results","setResults","randomGeneratePacks","total","parseInt","open","currentDate","Date","getTime","timestamp","differenceSeed","isNaN","alert","rng","toString","available","Set","Array","from","length","_","i","selected","index","Math","floor","size","value","delete","push","sort","a","b","className","children","type","placeholder","onChange","e","target","onClick","map","pack"],"sources":["/Users/amon/WSToolBoxReact/src/pages/PickPacks.js"],"sourcesContent":["import React, { useState} from 'react';\nimport seedrandom from 'seedrandom';\n\n\nfunction PickPacks() {\n\n    const [totalPacks, setTotalPacks] = useState('');\n    const [openPacks, setOpenPacks] = useState('');\n    const [seed, setSeed] = useState('');\n    const [results, setResults] = useState([]);\n    \n\n    const randomGeneratePacks = () => {\n        const total = parseInt(totalPacks);\n        const open = parseInt(openPacks);\n        \n        const currentDate = new Date().getTime();\n        const timestamp = new Date('2001-12-11').getTime();\n        const differenceSeed = currentDate - timestamp;\n        setSeed(differenceSeed);\n\n        if (open > total || isNaN(total) || isNaN(open) || total <= 0 || open <= 0) {\n            alert(\"请输入有效的包数\");\n            return;\n        }\n\n        const rng = seedrandom(seed.toString());\n        const available = new Set(Array.from({ length: total }, (_, i) => i + 1));\n        const selected = [];\n\n        while (selected.length < open) {\n            const index = Math.floor(rng() * available.size);\n            const value = Array.from(available)[index];\n            available.delete(value);\n            selected.push(value);\n        }\n\n        selected.sort((a, b) => a - b);\n        setResults(selected);\n    };\n\n    return (\n        <div className='container-fluid'>\n            <div className = 'd-flex justify-content-center align-items-center flex-column mb-4'>\n                <h1>随机开包</h1>\n                <p>请输入总包数和开启的包数，系统默认自带提前设计好的神秘种子</p>\n            </div>\n\n            <div className='d-flex justify-content-center align-items-center mb-4 gap-3'>\n                <input\n                    type=\"number\"\n                    className=\"form-control w-auto\"\n                    placeholder=\"开启包数\"\n                    value={openPacks}\n                    onChange={(e) => setOpenPacks(e.target.value)}\n                />\n                <input\n                    type=\"number\"\n                    className=\"form-control w-auto\"\n                    placeholder=\"总包数\"\n                    value={totalPacks}\n                    onChange={(e) => setTotalPacks(e.target.value)}\n                />\n            </div>\n            <div className='d-flex justify-content-center align-items-center mb-4'>\n                <button className=\"btn btn-primary btn-lg col-4\" onClick={randomGeneratePacks}>开包</button>\n            </div>\n            {results.length > 0 && (\n                <div className='d-flex justify-content-center align-items-center flex-column mb-4'>\n                    <h3>已选择的包:</h3>\n                        {results.map((pack) => (\n                            <p key={pack}>{pack}</p>\n                        ))}\n                </div>\n            )}\n            \n        </div>\n    );\n}\n\nexport default PickPacks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}